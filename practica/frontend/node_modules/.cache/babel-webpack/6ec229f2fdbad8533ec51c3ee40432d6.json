{"ast":null,"code":"import _asyncToGenerator from \"C:/xampp/htdocs/4sangular/practicaeventos/eventos/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nlet HistorialComponent = class HistorialComponent {\n  constructor(_historialService, router) {\n    var _this = this;\n\n    this._historialService = _historialService;\n    this.router = router;\n    this.displayedColumns = ['fecha_de_registro', 'Evento', 'descripcion'];\n    this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\n    this.listarHistorial = /*#__PURE__*/_asyncToGenerator(function* () {\n      try {\n        const response = yield _this._historialService.listarHistorial().toPromise();\n        console.log(response);\n      } catch (error) {}\n    });\n  }\n\n  validarLogin() {\n    let sesion = localStorage.getItem(\"sesion\");\n\n    if (sesion === null) {\n      this.router.navigate([\"/login\"]);\n    } else {\n      this.router.navigate([\"/listarHistorial\"]);\n    }\n\n    console.log(sesion);\n  }\n\n  ngOnInit() {\n    this.getAllReports();\n    this.validarLogin();\n  }\n\n  getAllReports() {\n    let resp = this._historialService.listarHistorial();\n\n    resp.subscribe(report => this.dataSource.data = report);\n  }\n\n};\nHistorialComponent = __decorate([Component({\n  selector: 'app-historial',\n  templateUrl: './historial.component.html',\n  styleUrls: ['./historial.component.css']\n})], HistorialComponent);\nexport { HistorialComponent };","map":{"version":3,"sources":["C:\\xampp\\htdocs\\4sangular\\practicaeventos\\eventos\\frontend\\src\\app\\components\\historial\\historial.component.ts"],"names":[],"mappings":";;AAAA,SAAS,SAAT,QAAkC,eAAlC;AACA,SAAS,kBAAT,QAAmC,yBAAnC;AAgBA,IAAa,kBAAkB,GAA/B,MAAa,kBAAb,CAA+B;AAQ7B,EAAA,WAAA,CAAoB,iBAApB,EAAgE,MAAhE,EAA8E;AAAA;;AAA1D,SAAA,iBAAA,GAAA,iBAAA;AAA4C,SAAA,MAAA,GAAA,MAAA;AAJhE,SAAA,gBAAA,GAA6B,CAAC,mBAAD,EAAsB,QAAtB,EAAgC,aAAhC,CAA7B;AACA,SAAA,UAAA,GAAa,IAAI,kBAAJ,CAAyC,KAAK,YAA9C,CAAb;AAyBA,SAAA,eAAA,kCAAkB,aAAW;AAC3B,UAAI;AACF,cAAM,QAAQ,SAAS,KAAI,CAAC,iBAAL,CAAuB,eAAvB,GAAyC,SAAzC,EAAvB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AAED,OAJD,CAIE,OAAO,KAAP,EAAc,CAEf;AACF,KARD;AAtBmF;;AAEnF,EAAA,YAAY,GAAA;AACV,QAAI,MAAM,GAAG,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAb;;AACA,QAAI,MAAM,KAAK,IAAf,EAAqB;AACnB,WAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACD,KAFD,MAEO;AACL,WAAK,MAAL,CAAY,QAAZ,CAAqB,CAAC,kBAAD,CAArB;AACD;;AACD,IAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACD;;AAED,EAAA,QAAQ,GAAA;AACN,SAAK,aAAL;AACA,SAAK,YAAL;AACD;;AAEM,EAAA,aAAa,GAAA;AAClB,QAAI,IAAI,GAAG,KAAK,iBAAL,CAAuB,eAAvB,EAAX;;AACA,IAAA,IAAI,CAAC,SAAL,CAAe,MAAM,IAAI,KAAK,UAAL,CAAgB,IAAhB,GAAuB,MAAhD;AACD;;AA5B4B,CAA/B;AAAa,kBAAkB,GAAA,UAAA,CAAA,CAL9B,SAAS,CAAC;AACT,EAAA,QAAQ,EAAE,eADD;AAET,EAAA,WAAW,EAAE,4BAFJ;AAGT,EAAA,SAAS,EAAE,CAAC,2BAAD;AAHF,CAAD,CAKqB,CAAA,EAAlB,kBAAkB,CAAlB;SAAA,kB","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Router } from '@angular/router';\nimport { HistorialService } from 'src/app/services/historial.service';\nimport { HistorialReports } from 'src/environments/environment';\n\nexport interface PeriodicElement {\n  fecha_de_registro: Date;\n  Evento: string;\n  descripcion: string;\n}\n\n@Component({\n  selector: 'app-historial',\n  templateUrl: './historial.component.html',\n  styleUrls: ['./historial.component.css']\n})\nexport class HistorialComponent implements OnInit {\n\n  ELEMENT_DATA!: HistorialReports[];\n\n  displayedColumns: string[] = ['fecha_de_registro', 'Evento', 'descripcion'];\n  dataSource = new MatTableDataSource<HistorialReports>(this.ELEMENT_DATA);\n\n\n  constructor(private _historialService: HistorialService, public router: Router) { }\n\n  validarLogin() {\n    let sesion = localStorage.getItem(\"sesion\")\n    if (sesion === null) {\n      this.router.navigate([\"/login\"])\n    } else {\n      this.router.navigate([\"/listarHistorial\"])\n    }\n    console.log(sesion)\n  }\n\n  ngOnInit(): void {\n    this.getAllReports();\n    this.validarLogin();\n  }\n\n  public getAllReports() {\n    let resp = this._historialService.listarHistorial();\n    resp.subscribe(report => this.dataSource.data = report as HistorialReports[])\n  }\n\n  listarHistorial = async () => {\n    try {\n      const response = await this._historialService.listarHistorial().toPromise()\n      console.log(response);\n\n    } catch (error) {\n\n    }\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}